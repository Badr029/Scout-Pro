<div class="reset-password-container">
  <div class="reset-password-box">
    <h2>Reset Password</h2>
    <p class="subtitle">Enter your new password</p>

    <!-- Error/Success Messages -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>

    <!-- Form -->
    <form (ngSubmit)="onSubmit()" #resetPasswordForm="ngForm">
      <div class="form-group">
        <label for="email">Email Address</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="formData.email"
          class="form-control"
          readonly
        >
      </div>

      <div class="form-group">
        <label for="password">New Password</label>
        <div class="password-input">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            [(ngModel)]="formData.password"
            class="form-control"
            placeholder="Enter new password"
            required
            minlength="6"
          >
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility('password')"
          >
            <i class="bi" [class.bi-eye]="!showPassword" [class.bi-eye-slash]="showPassword"></i>
          </button>
        </div>
      </div>

      <div class="form-group">
        <label for="password_confirmation">Confirm New Password</label>
        <div class="password-input">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="password_confirmation"
            name="password_confirmation"
            [(ngModel)]="formData.password_confirmation"
            class="form-control"
            placeholder="Confirm new password"
            required
            minlength="6"
          >
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility('confirm')"
          >
            <i class="bi" [class.bi-eye]="!showConfirmPassword" [class.bi-eye-slash]="showConfirmPassword"></i>
          </button>
        </div>
      </div>

      <div class="form-group">
        <button
          type="submit"
          class="btn btn-primary btn-block"
          [disabled]="loading || !resetPasswordForm.form.valid"
        >
          <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
          {{ loading ? 'Resetting...' : 'Reset Password' }}
        </button>
      </div>
    </form>

    <!-- Back to Login -->
    <div class="back-to-login">
      <button class="btn btn-link" (click)="backToLogin()">
        ‚Üê Back to Login
      </button>
    </div>
  </div>
</div>
