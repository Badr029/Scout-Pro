<div class="container">
  <!-- Page Header with Back Button -->
  <div class="page-header">
    <button class="btn-back" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
      Back 
    </button>
  </div>

  <!-- Subscription Details Section -->
  <section class="mb-6 border-b pb-4">
    <h2 class="text-xl font-semibold mb-2 text-blue-600">Subscription Details</h2>
    <p><strong>Plan:</strong> {{ subscription.plan }}</p>
    <p><strong>Start Date:</strong> {{ subscription.created_at | date:'medium' }}</p>
    <p><strong>End Date:</strong> {{ subscription.expires_at | date:'medium' }}</p>
    <p><strong>Status:</strong> {{ subscription.status || 'Active' }}</p>
  </section>

  <!-- Remaining Time Section -->
  <section class="mb-6 border-b pb-4">
    <h2 class="text-xl font-semibold mb-2 text-blue-600">Time Remaining</h2>
    <p><strong>Days Left:</strong> {{ subscription.days_left }}</p>
    <p><strong>Hours Left:</strong> {{ subscription.hours_left }}</p>
  </section>

  <!-- Cancel Button -->
  <section>
    <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition"
        (click)="cancelSubscription()">
        Cancel Subscription
    </button>
    <button class="upgrade"
        (click)="goToUpgrade()">
        Change Plan
    </button>
  </section>
</div>
<div *ngIf="showCancelConfirmation" class="modal-overlay">
  <div class="modal-box">
    <h3 class="text-lg font-semibold mb-4">Cancel Subscription</h3>
    <p class="mb-6">Are you sure you want to cancel your subscription?</p>
    <div class="flex justify-end gap-4">
      <button class="cancel-btn" (click)="showCancelConfirmation = false">No</button>
      <button class="confirm-btn" (click)="confirmCancel()">Yes, Cancel</button>
    </div>
  </div>
</div>

<ng-template #loadingOrError>
  <div class="container">
    <div *ngIf="loading">Loading...</div>
    <div *ngIf="error" class="text-red-500">{{ error }}</div>
  </div>
</ng-template>